<section data-sec='window-2024' id='windowsystem2024s' class="window-system2024" data-width="600px" data-height="400px"
    data-top="100px" data-left="10px" style="background: transparent;">
    <div style="
    width: 100%;
    height: auto;
    background: white;
    color: white;
    padding-top: 4px;
    border-radius: 5px;">

        <div class="useful-toolbar" style="
        border-bottom: 1px solid black;height: 25px;">
            <div style="display: flex;height: 100%;"><img src="./gnome-ico/close.svg" class="close-system-window"
                    style="width: 14px !important;"><img src="./gnome-ico/chgres.svg" class="chgres-system-window"><img
                    src="./gnome-ico/min.svg" class="min-system-window" style="width: 14px !important;"></div>
            <!-- Change Your Title-->
            <p class="title-system-0123" style="color:black;">Terminal</p>
            <img src="./applications/terminal/term.svg" class="appico-system-window-0123">
        </div>
    </div>
    <div class="therest" style="
    height: 95%;
    overflow: hidden;
    overflow-y: scroll;
    background: rgba(0, 0, 0, 0.6);
    border-radius: 0px 0px 0px 5px;">
        <div class="stdin" style="display: flex;flex-direction:row;height:100%;"><textarea style="
    background: transparent;
    border: 0;
    height:99%;
    outline: 0;
    word-break: break-all;
    font-family:sans-serif;
    width:100%;
    resize:none;
    color: white;
    font-size: 18px;
    letter-spacing: 2px;" class="stdii"></textarea></div>
    </div>

    <script class="application-script">
        function inputting(){
            $('.window-system2024').find('.stdii').off('keydown').on('keydown', async function (event) {
            
                if(event.key == 'Enter'){
                    $(this).css('height','min-content')
                    $(this).closest('.stdin').css('height',$(this).height() + $(this).scrollHeight)
                    $(this).prop('disabled',true)
                    $('.window-system2024').find('.therest').append(`<div class="stdin" style="display: flex;flex-direction:row;height:100%;"><textarea style="background: transparent;border: 0;height:99%;outline: 0;word-break: break-all;font-family:sans-serif;width:100%;resize:none;color: white;font-size: 18px;letter-spacing: 2px;" class="stdii">hello@loai:-$ </textarea></div></div>`)
                    inputtrap()
                    
                    let len = $(this).val().split('hello@loai:-$ ')[1]
                    let list = len.split(' ')
                    let first = list.shift()
                    list = list.join(' ')
                    list = [first, list]
                    let fet = await fetch(`./applications/terminal/terminal-tools/${list[0]}.jst`)
                    let text = await fet.text()
                    text = text.replaceAll('terminal-params', `"${list[1]}"`)
                    console.log(text)

                    eval(text)
                    inputting()
                    
                    
                    
                }
            })
        }
        function inputtrap(){
            $('.window-system2024').find('.stdii').off('input').on('input', function (event) {
                console.log('fdddddd')
                let len = $(this).val().split('hello@loai:-$ ')
                console.log(len.length)
                if (len.length < 2) {
                    setTimeout(() => {
                        $(this).val('hello@loai:-$ ')

                    }, 1);
                }

            })
        }
        function append_to_window(create,point,html){
            if(create == true){
                $('.window-system2024').append(point)

            }else{
                $('.window-system2024').find(point).append(html)

            }
        }

        function main_window() {

            function disable_backspace(event) {
                console.log(event)
                if (event.key == 'Backspace') {
                    event.preventDefault()
                    console.log('running')
                }
            }
            $('.window-system2024').find('.stdii').val('hello@loai:-$ ')
            inputtrap()
            inputting()

        }
        main_window()
    </script>
</section>